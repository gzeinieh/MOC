{"version":3,"sources":["../../../../client/app/account/signup/signup.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAChC,UAAU,CAAC,YAAY,EAAE,UAAS,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;AACvD,QAAM,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,QAAM,CAAC,MAAM,GAAG,EAAE,CAAC;;AAEnB,QAAM,CAAC,QAAQ,GAAG,UAAS,IAAI,EAAE;AAC/B,UAAM,CAAC,SAAS,GAAG,IAAI,CAAC;;AAExB,QAAI,IAAI,CAAC,MAAM,EAAE;AACf,UAAI,CAAC,UAAU,CAAC;AACd,YAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI;AACtB,aAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK;AACxB,gBAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ;AAC9B,YAAI,EAAE,UAAU;OACjB,CAAC,CACD,IAAI,CAAC,YAAW;;AAEf,cAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;OACnB,CAAC,SACI,CAAC,UAAS,GAAG,EAAE;AACnB,WAAG,GAAG,GAAG,CAAC,IAAI,CAAC;AACf,cAAM,CAAC,MAAM,GAAG,EAAE,CAAC;;;AAGnB,YAAI,GAAG,CAAC,IAAI,EAAE;AACZ,iBAAO,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAS,KAAK,EAAE;AAC1C,gBAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC5C,kBAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC;WACpC,CAAC,CAAC;SACJ;OACF,CAAC,CAAC;KACJ;GACF,CAAC;CAEH,CAAC,CAAC","file":"signup.controller.js","sourcesContent":["'use strict';\n\nangular.module('missioncontrolApp')\n  .controller('SignupCtrl', function($scope, Auth, $state) {\n    $scope.user = {};\n    $scope.errors = {};\n\n    $scope.register = function(form) {\n      $scope.submitted = true;\n\n      if (form.$valid) {\n        Auth.createUser({\n          name: $scope.user.name,\n          email: $scope.user.email,\n          password: $scope.user.password,\n          role: 'standard'\n        })\n        .then(function() {\n          // Account created, redirect to home\n          $state.go('main');\n        })\n        .catch(function(err) {\n          err = err.data;\n          $scope.errors = {};\n\n          // Update validity of form fields that match the sequelize errors\n          if (err.name) {\n            angular.forEach(err.fields, function(field) {\n              form[field].$setValidity('mongoose', false);\n              $scope.errors[field] = err.message;\n            });\n          }\n        });\n      }\n    };\n\n  });\n"]}