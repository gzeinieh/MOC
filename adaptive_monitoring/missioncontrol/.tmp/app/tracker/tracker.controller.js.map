{"version":3,"sources":["../../../client/app/tracker/tracker.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAChC,UAAU,CAAC,aAAa,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE;;;AAElD,MAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;AAGlB,MAAI,CAAC,aAAa,GAAG,SAAS,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE;AACpE,QAAI,GAAG,GAAG;AACR,eAAS,EAAE,SAAS,CAAC,GAAG;AACxB,UAAI,EAAK,IAAI,SAAI,OAAO,AAAE;KAC3B,CAAC;;AAEF,SAAK,CAAC,IAAI,CAAC,eAAe,EAAE,GAAG,CAAC,CAC7B,IAAI,CAAC,UAAU,QAAQ,EAAE;AACxB,aAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACvB,EACD,UAAU,GAAG,EAAE;AACb,aAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KACpB,CAAC,CAAC;GACN,CAAC;;AAGF,OAAK,CAAC,GAAG,uBAAuB,CAC/B,IAAI,CAAC,UAAC,QAAQ,EAAK;AAClB,UAAK,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;GACrC,CAAC,CAAC;;AAEH,OAAK,CAAC,GAAG,6BAA6B,CACrC,IAAI,CAAC,UAAC,QAAQ,EAAK;AAClB,UAAK,mBAAmB,GAAG,QAAQ,CAAC,IAAI,CAAC;GAC1C,CAAC,CAAC;;AAEH,OAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAC3B,IAAI,CAAC,UAAC,QAAQ,EAAK;AAClB,UAAK,mBAAmB,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CACxC,GAAG,CAAC,UAAA,SAAS,EAAI;AAChB,eAAS,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AAC9C,eAAS,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;AACtE,aAAO,SAAS,CAAC;KAClB,CAAC,CACD,KAAK,EAAE,CAAC;AACT,WAAO,CAAC,GAAG,CAAC,MAAK,mBAAmB,CAAC,CAAC;GACzC,CAAC,CAAC;;AAEH,MAAI,CAAC,eAAe,GAAG,SAAS,eAAe,CAAC,OAAO,EAAE,OAAO,EAAE;;;AAChE,WAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrB,SAAK,CAAC,IAAI,oBAAkB,OAAO,CAAC,GAAG,gBAAa,EAAC,SAAS,EAAE,OAAO,EAAC,CAAC,CACxE,IAAI,CAAC,UAAA,QAAQ,EAAI;AAChB,aAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,aAAK,mBAAmB,GAAG,CAAC,CAAC,OAAK,mBAAmB,CAAC,CACnD,MAAM,CAAC,UAAA,QAAQ;eAAI,QAAQ,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG;OAAA,CAAC,CAChD,KAAK,EAAE,CAAC;KACZ,CAAC,CAAC;GACJ,CAAC;;AAGF,MAAI,CAAC,mBAAmB,GAAG,SAAS,mBAAmB,CAAC,SAAS,EAAE,aAAa,EAAE;;;AAChF,SAAI,SAAS,EAAE,aAAa,CAAA,EAAE;AAC5B,WAAK,CAAC,GAAG,sBAAoB,SAAS,wCAAmC,aAAa,CAAG,CACxF,IAAI,CAAC,UAAC,QAAQ,EAAK;AAClB,eAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC3B,eAAK,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;OAC/B,CAAC,CAAC;KACJ;GACF,CAAC;CACL,CAAC,CAAC","file":"tracker.controller.js","sourcesContent":["'use strict';\n\nangular.module('missioncontrolApp')\n  .controller('TrackerCtrl', function ($scope, $http) {\n\n    this.command = {};\n\n\n    this.submitCommand = function submitCommand(satellite, unit, command) {\n      let com = {\n        satellite: satellite._id,\n        body: `${unit}:${command}`\n      };\n\n      $http.post('/api/commands', com)\n        .then(function (response) {\n          console.log(response);\n        },\n        function (err) {\n          console.error(err);\n        });\n    };\n\n\n    $http.get(`/api/groundstations`)\n    .then((response) => {\n      this.groundstations = response.data;\n    });\n\n    $http.get(`/api/commands/unscheduled`)\n    .then((response) => {\n      this.unscheduledCommands = response.data;\n    });\n\n    $http.get('/api/satellites')\n    .then((response) => {\n      this.availableSatellites = _(response.data)\n        .map(satellite => {\n          satellite.units = JSON.parse(satellite.units);\n          satellite.availableCommands = JSON.parse(satellite.availableCommands);\n          return satellite;\n        })\n        .value();\n        console.log(this.availableSatellites);\n    });\n\n    this.scheduleCommand = function scheduleCommand(command, passNum) {\n      console.log(passNum);\n      $http.post(`/api/commands/${command._id}/schedule`, {SegmentId: passNum})\n      .then(response => {\n        console.log(response);\n        this.unscheduledCommands = _(this.unscheduledCommands)\n          .filter(commandf => commandf._id !== command._id)\n          .value();\n      });\n    };\n\n\n    this.getAssignedSegments = function getAssignedSegments(satellite, groundstation) {\n      if (satellite, groundstation) {\n        $http.get(`/api/satellites/${satellite}/assignedSegments?groundstation=${groundstation}`)\n        .then((response) => {\n          console.log(response.data);\n          this.segments = response.data;\n        });\n      }\n    };\n});\n"]}